<div class="grid-row">
  <div class="grid-col-12">
    <h1 class="usa-prose">Volunteer Hours</h1>
    
    <p class="usa-intro">
      Please add your volunteer shifts to help verify that you meet the Community Engagement Requirements.
    </p>

    <% if notice %>
      <div class="usa-alert usa-alert--success" role="alert">
        <div class="usa-alert__body">
          <p class="usa-alert__text"><%= notice %></p>
        </div>
      </div>
    <% end %>

    <% if @volunteer_shifts.any? %>
      <div class="usa-table-container--scrollable" tabindex="0">
        <table class="usa-table">
          <caption>Your Volunteer Shifts</caption>
          <thead>
            <tr>
              <th scope="col">Organization</th>
              <th scope="col">Date</th>
              <th scope="col">Hours</th>
            </tr>
          </thead>
          <tbody>
            <% @volunteer_shifts.each do |shift| %>
              <tr>
                <td><%= shift.organization_name %></td>
                <td><%= shift.shift_date.strftime("%B %d, %Y") %></td>
                <td><%= shift.hours %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      
      <div class="usa-summary-box">
        <div class="usa-summary-box__body">
          <h3 class="usa-summary-box__heading">
            Total Volunteer Hours
          </h3>
          <div class="usa-summary-box__text">
            <p class="font-sans-3xl"><%= @volunteer_shifts.sum(&:hours) %> hours</p>
          </div>
        </div>
      </div>
    <% else %>
      <div class="usa-alert usa-alert--info" role="alert">
        <div class="usa-alert__body">
          <p class="usa-alert__text">No volunteer shifts have been added yet. Click "Add Volunteer Hours" to get started.</p>
        </div>
      </div>
    <% end %>

    <div class="usa-form-group">
      <%= link_to "Add Volunteer Hours", new_engagement_form_volunteer_shift_path(@engagement_form), class: "usa-button" %>
      <%= form_with url: engagement_form_volunteers_path(@engagement_form), method: :post, local: true, style: "display: inline;" do |form| %>
        <%= form.submit "Continue", class: "usa-button usa-button--outline" %>
      <% end %>
      <%= link_to "Back", new_engagement_form_question_path(@engagement_form), class: "usa-button usa-button--outline" %>
    </div>
  </div>
</div>
